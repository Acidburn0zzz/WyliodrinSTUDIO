<md-dialog aria-label="File Explorer" style="width: 80%; max-height:80%;" ng-escape="tm.exit()">

	<div ng-show="showPopupDelete">
		Are you sure you want to delete {{ selectedRight.name }}?
		<md-button ng-click="fe.delete()">Yes</md-button>
		<md-button ng-click="showPopupDelete=0">No</md-button>
	</div>

	<div ng-show="showPopupNewFolder">
		Choose the name for the folder
		<input ng-model="contentPopupNewFolder">
		<md-button ng-click="fe.newFolder()">Ok</md-button>
		<md-button ng-click="showPopupNewFolder=0">Cancel</md-button>
	</div>

	<div ng-show="showPopupRename">
		Choose the name for the 
		<span ng-show="selectedRight.isdir">folder</span>
		<span ng-show="selectedRight.isfile">file</span>
		<span ng-show="selectedRight.islink">link</span>
		<input ng-model="contentPopupRename">
		<md-button ng-click="fe.rename()">Ok</md-button>
		<md-button ng-click="showPopupRename=0">Cancel</md-button>
	</div>

	<div ng-show="showPopupUpload">
		The file will be uploaded immediately.
		<md-progress-linear md-mode="determinate" ng-value="uploadvars.d*100/uploadvars.c.length"></md-progress-linear>
		<md-button ng-click="showPopupUpload=0">Cancel</md-button>
	</div>

	<div ng-show="showPopupError">
		{{contentPopupError}}
		<md-button ng-click="showPopupError=0">Ok</md-button>
	</div>


	<md-toolbar>
		<div class="md-toolbar-tools">
			<h2>{{cwd}}</h2>
			<span flex></span>
			<md-switch ng-model="showHidden" aria-label="Switch 1">Show Hidden</md-switch>
		</div>
	</md-toolbar>

    
    <md-dialog-content layout="row">


    	<md-content treecontrol class="tree-classic" tree-model="treeData" options="treeOptions" on-selection="fe.absolutecd(node)" on-node-toggle="fe.getChildren(node,expanded)" selected-node="selected_node" expanded-nodes="expanded_nodes"><span ng-hide="node.isspecial">{{node.name}}</span><span ng-show="node.isspecial" style="font-style:italic;">{{node.name}}</span></md-content>



    	<md-content flex class="task-box on-the-right" style="background:none;">
	        <md-list style="padding-top:8px;padding-bottom:8px;">
	            <md-list-item ng-repeat="file in files | orderBy:'[-isup,-isdir]'" layout-padding class="separator-line file" ng-dblclick="fe.doubleclick(file)" ng-click="fe.click(file)" style="min-height: 40px; height: 40px;" ng-show="fe.hide(file)" ng-attr-class="{{fe.isSelected(file) && 'vasile' || 'viorel'}}">
	            	<img ng-show="file.isup" ng-src="/public/drawable/up-icon.png" />
	            	<img ng-show="file.isfile" ng-src="/public/drawable/file-icon.png" />
	            	<img ng-show="file.isdir" ng-src="/public/drawable/folder-icon.png" />
                    <img ng-show="file.islink" ng-src="/public/drawable/link-icon2.png" />
	                <span class="fileandfolder">{{file.name | limitTo:30}}{{file.name.length > 30 ? '...' : ''}}</span>
	                <span ng-show="file.isfile">{{file.size}}</span>
	                <!-- <md-button ng-show="file.isdir" class="md-secondary lib-app-btn right" ng-click="fe.cd(file.name)">Enter</md-button>-->
	                <!--<md-button ng-show="file.isfile || file.islink" class="md-secondary lib-app-btn right" ng-click="fe.download(file.name)">Download</md-button>-->
	            </md-list-item>

	        </md-list>
	    </md-content>


    
   	</md-dialog-content>



    
    
	<md-dialog-actions layout="row">
		<md-button class="md-raised" aria-label="Refresh" ng-click="fe.refresh()">Refresh</md-button>
		<span flex></span>
		<md-button class="md-raised" aria-label="New Folder" ng-click="fe.newFolderButton()">New Folder</md-button>
		<md-button class="md-raised" aria-label="Upload here" ng-click="fe.upload()">Upload Here</md-button>
		<md-button class="md-raised" aria-label="Rename" ng-click="fe.renameButton()">Rename</md-button>
		<md-button class="md-raised" aria-label="Delete" ng-click="fe.deleteButton()">Delete</md-button>
		<span flex></span>
		<!--<md-button class="md-raised" aria-label="Download" ng-click="fe.exit()">Download</md-button>
		<span flex></span>-->
		<md-button class="md-raised" aria-label="Exit" ng-click="fe.exit()">Exit</md-button>
	</md-dialog-actions>
</md-dialog>